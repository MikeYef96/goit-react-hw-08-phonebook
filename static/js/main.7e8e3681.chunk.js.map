{"version":3,"sources":["redux/contacts/contacts-reducers.js","redux/auth/auth-slice.js","redux/store.js","components/PrivateRoute.jsx","components/PublicRoute.jsx","components/HeaderMUI/NavigationMUI.jsx","components/HeaderMUI/AuthNavMUI.jsx","components/HeaderMUI/UserMenuMUI.jsx","components/HeaderMUI/HeaderMUI.jsx","components/Footer/BottomAppBar.jsx","App.jsx","index.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/contacts/contacts-actions.js"],"names":["items","createReducer","fetchContactsSuccess","_","payload","addContactSuccess","state","deleteContactSuccess","filter","contact","id","toString","changeFilter","combineReducers","authSlice","createSlice","name","initialState","user","email","token","isLoggedIn","isFetchingCurrentUser","extraReducers","authOperations","register","fulfilled","action","logIn","logOut","fetchCurrentUser","pending","rejected","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","rootReducer","devTools","process","persistor","persistStore","PrivateRoute","children","redirectTo","routeProps","useSelector","authSelectors","getIsLoggedIn","to","PublicRoute","restricted","shouldRedirect","styles","link","display","textDecoration","padding","fontWeight","fontSize","color","activeLink","NavigationMUI","exact","style","activeStyle","AuthNavMUI","container","alignItems","marginRight","button","textTransform","UserMenuMUI","dispatch","useDispatch","getUsername","Button","type","endIcon","onClick","HeaderMUI","AppBar","position","Toolbar","Grid","justify","item","useStyles","makeStyles","theme","appBar","top","bottom","BottomAppBar","classes","Fragment","CssBaseline","className","HomePage","lazy","RegistrationPage","LoginPage","ContactsPage","createMuiTheme","palette","primary","main","secondary","override","css","App","getIsFetchingCurrent","console","log","useEffect","size","ThemeProvider","fallback","path","component","ReactDOM","render","StrictMode","loading","document","getElementById","axios","defaults","baseURL","headers","common","Authorisation","createAsyncThunk","credentials","a","rejectWithValue","post","data","message","thunkAPI","getState","persistedToken","get","getUserName","fetchContactsRequest","createAction","fetchContactsError","addContactRequest","addContactError","deleteContactRequest","deleteContactError"],"mappings":"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","file":"static/js/main.7e8e3681.chunk.js","sourcesContent":["import { combineReducers, createReducer } from '@reduxjs/toolkit';\nimport {\n  changeFilter,\n  addContactSuccess,\n  deleteContactSuccess,\n  fetchContactsSuccess,\n} from './contacts-actions';\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter(contact => {\n      return contact.id.toString() !== payload.toString();\n    }),\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n});\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrentUser = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isFetchingCurrentUser = false;\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrentUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport logger from 'redux-logger';\nimport storage from 'redux-persist/lib/storage';\nimport rootReducer from './contacts/contacts-reducers';\nimport { authReducer } from './auth';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: rootReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst styles = {\n  link: {\n    display: 'inline-block',\n    textDecoration: 'none',\n    padding: 12,\n    fontWeight: 900,\n    fontSize: 18,\n    color: '#faa346',\n  },\n  activeLink: {\n    color: '#ffffff',\n    fontSize: '25px',\n  },\n};\n\nexport default function NavigationMUI() {\n  return (\n    <nav>\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\n        Homepage\n      </NavLink>\n\n      <NavLink\n        to=\"/contacts\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Contacts\n      </NavLink>\n    </nav>\n  );\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst styles = {\n  link: {\n    display: 'inline-block',\n    textDecoration: 'none',\n    padding: 12,\n    fontWeight: 900,\n    fontSize: 18,\n    color: '#faa346',\n  },\n  activeLink: {\n    color: '#ffffff',\n    fontSize: '25px',\n  },\n};\n\nexport default function AuthNavMUI() {\n  return (\n    <>\n      <NavLink\n        to=\"/register\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Registration\n      </NavLink>\n\n      <NavLink\n        to=\"/login\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Login\n      </NavLink>\n    </>\n  );\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport authOperations from '../../redux/auth/auth-operations';\nimport Button from '@material-ui/core/Button';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'baseline',\n    color: '#faa346',\n  },\n  name: {\n    fontWeight: 700,\n    fontSize: 18,\n    marginRight: 12,\n  },\n  button: {\n    color: '#faa346',\n    fontWeight: 700,\n    fontSize: 18,\n    textTransform: 'capitalize',\n  },\n};\n\nexport default function UserMenuMUI() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUsername);\n  const handleLogOut = () => dispatch(authOperations.logOut());\n\n  return (\n    <div style={styles.container}>\n      <span style={styles.name}>Welcome, {name}</span>\n\n      <Button\n        type=\"button\"\n        style={styles.button}\n        endIcon={<PowerSettingsNewIcon fontSize=\"small\" />}\n        onClick={handleLogOut}\n      >\n        <span>Logout</span>\n      </Button>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppBar, Toolbar, Grid } from '@material-ui/core';\nimport Navigation from './NavigationMUI';\nimport AuthNav from './AuthNavMUI';\nimport UserMenu from './UserMenuMUI';\nimport authSelectors from '../../redux/auth/auth-selectors';\n\nexport default function HeaderMUI() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <Grid container justify=\"space-around\" alignItems=\"center\">\n          <Grid item>\n            <Navigation />\n          </Grid>\n\n          {isLoggedIn ? (\n            <Grid item>\n              <UserMenu />\n            </Grid>\n          ) : (\n            <Grid item>\n              <AuthNav />\n            </Grid>\n          )}\n        </Grid>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    top: 'auto',\n    bottom: 0,\n  },\n}));\n\nexport default function BottomAppBar() {\n  const classes = useStyles();\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <AppBar color=\"primary\" className={classes.appBar}>\n        <Toolbar></Toolbar>\n      </AppBar>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, Switch, Suspense, lazy } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Container from './components/Container';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\nimport authSelectors from './redux/auth/auth-selectors';\nimport authOperations from './redux/auth/auth-operations';\nimport HeaderMUI from './components/HeaderMUI/HeaderMUI';\nimport BottomAppBar from './components/Footer/BottomAppBar';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core';\nimport { css } from '@emotion/react';\nimport ClockLoader from 'react-spinners/ClockLoader';\n\nconst HomePage = lazy(() => import('./pages/HomePage'));\nconst RegistrationPage = lazy(() => import('./pages/RegistrationPage'));\nconst LoginPage = lazy(() => import('./pages/LoginPage'));\nconst ContactsPage = lazy(() => import('./pages/ContactsPage'));\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#011211',\n    },\n    secondary: {\n      main: '#faa346',\n    },\n  },\n});\n\nconst override = css`\n  display: block;\n  margin: 50px auto;\n  border-color: red;\n`;\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n  console.log(isFetchingCurrentUser);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      {isFetchingCurrentUser ? (\n        <ClockLoader css={override} color={'#e8834d'} size={150} />\n      ) : (\n        <ThemeProvider theme={theme}>\n          <HeaderMUI />\n          <Switch>\n            <Suspense\n              fallback={\n                <ClockLoader css={override} color={'#e8834d'} size={150} />\n              }\n            >\n              <PublicRoute exact path=\"/\" component={HomePage} />\n              <PublicRoute\n                path=\"/register\"\n                component={RegistrationPage}\n                redirectTo=\"/\"\n                restricted\n              />\n              <PublicRoute\n                path=\"/login\"\n                component={LoginPage}\n                redirectTo=\"/\"\n                restricted\n              />\n              <PrivateRoute\n                path=\"/contacts\"\n                component={ContactsPage}\n                redirectTo=\"/login\"\n              />\n            </Suspense>\n          </Switch>\n          <BottomAppBar />\n        </ThemeProvider>\n      )}\n    </Container>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './redux/store';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorisation = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorisation = '';\n  },\n};\n\nconst register = createAsyncThunk(\n  'auth/register',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('/users/signup', credentials);\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst logIn = createAsyncThunk(\n  'auth/login',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('/users/login', credentials);\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst logOut = createAsyncThunk(\n  'auth/logout',\n  async (_, { rejectWithValue }) => {\n    try {\n      await axios.post('/users/logout');\n      token.unset();\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue('need to log in');\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      thunkAPI.rejectWithValue(error.message);\n    }\n  },\n);\n\nconst authOperations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default authOperations;\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\nconst getUserName = state => state.auth.user.name;\nconst getIsFetchingCurrent = state => state.auth.isFetchingCurrentUser;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUserName,\n  getIsFetchingCurrent,\n};\n\nexport default authSelectors;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactsRequest = createAction(\n  'contacts/fetchContactRequest',\n);\nexport const fetchContactsSuccess = createAction(\n  'contacts/fetchContactSuccess',\n);\nexport const fetchContactsError = createAction('contacts/fetchContactError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const changeFilter = createAction('contacts/changeFilter');\n"],"sourceRoot":""}